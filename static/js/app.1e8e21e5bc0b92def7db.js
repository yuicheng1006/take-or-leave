webpackJsonp([1],{"0i/0":function(t,s){},"2bHS":function(t,s){},"3rnP":function(t,s){},"7fdZ":function(t,s){},"8r5Y":function(t,s){},"Iw+O":function(t,s){},J6o1:function(t,s){},MfLr:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),o=e("mtWM"),a=e.n(o),r=e("Rf8U"),n=e.n(r),l={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var d=e("VU/8")({name:"App"},l,!1,function(t){e("wtJJ")},null,null).exports,c=e("/ocq"),v={data:function(){return{wishGoods:[]}},methods:{LoginorCenter:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){0==s.data.success?t.$router.push("/login"):t.$router.push("/admin/center")})},getWishGoods:function(){var t=this;this.isLoading=!0;this.$http.get("https://take-or-leave.herokuapp.com/api/like").then(function(s){console.log(s.data),t.wishGoods=s.data.likes})},getWish:function(){var t=0;return this.wishGoods&&(t=this.wishGoods.length),t}},created:function(){this.getWishGoods()}},u={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"navWrap"},[i("div",{staticClass:"logo"},[i("router-link",{attrs:{to:"/home"}},[i("img",{attrs:{src:e("q3zs"),alt:""}})])],1),t._v(" "),i("ul",{staticClass:"nav"},[i("li",[i("router-link",{attrs:{to:"/home"}},[t._v("HOME")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/giveslist"}},[t._v("GIVEs")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/admin/wishlist"}},[i("i",{staticClass:"far fa-heart"},[i("div",{staticClass:"heartAmount"},[t._v(t._s(t.getWish()))])])])],1),t._v(" "),i("li",{on:{click:t.LoginorCenter}},[i("i",{staticClass:"far fa-user-circle"})])])])},staticRenderFns:[]};var p=e("VU/8")(v,u,!1,function(t){e("2bHS")},"data-v-5ed2c992",null).exports,h=firebase.auth();console.log("auth: ",h);var g={components:{Navbar:p},data:function(){return{user:{email:"",password:""},resetEmail:""}},methods:{logIn:function(){var t=this,s=this;h.signInWithEmailAndPassword(s.user.email,s.user.password).then(function(e){e.user.getIdToken().then(function(e){console.log(e),t.axios.post("https://take-or-leave.herokuapp.com/api/login",{idToken:e}).then(function(e){console.log(e.data),e.data.success&&(t.$swal("登入成功","","success"),s.$router.push("/admin/center")),e.data.userInfo.emailVerified||t.$swal({type:"error",title:"Oops",text:"請至信箱驗證"})})})}).catch(function(s){console.log(s),"auth/user-not-found"==s.code&&t.$swal({type:"error",title:"Oops",text:"查無此用戶，請再次確認帳號密碼"}),"auth/invalid-email"==s.code&&t.$swal({type:"error",title:"Oops",text:"請輸入正確的 email 格式"}),"auth/wrong-password"==s.code&&t.$swal({type:"error",title:"Oops",text:"使用者帳號或密碼錯誤"})})},toCreatAccount:function(){this.$router.push("/signup")},forgetPassword:function(){this.$router.push("/forgetpassword")}}},m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("a",{attrs:{name:"HEAD"}}),t._v(" "),e("Navbar"),t._v(" "),e("div",{staticClass:"logWrap"},[t._m(0),t._v(" "),e("h2",[t._v("ACCOUNT")]),t._v(" "),e("span",{staticClass:"accountLine"}),t._v(" "),e("h3",[t._v("Login")]),t._v(" "),e("div",{staticClass:"logInfo"},[e("h4",[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(s){s.target.composing||t.$set(t.user,"email",s.target.value)}}}),t._v(" "),e("h4",[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"fgtPSD",on:{click:t.forgetPassword}},[e("span",[t._v("Lost your password?")])]),t._v(" "),e("button",{staticClass:"sendBtn logInBtn",on:{click:t.logIn}},[t._v("SIGN IN")]),t._v(" "),t._m(1),t._v(" "),e("h5",{on:{click:t.toCreatAccount}},[t._v("CREATE AN ACCOUNT")])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"accountLink"},[s("h4",[this._v("HOME")]),this._v(" "),s("h4",[this._v("/")]),this._v(" "),s("span",[this._v("account")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"logBrWrap"},[s("div",{staticClass:"logBr"}),this._v(" "),s("span",[this._v("OR")]),this._v(" "),s("div",{staticClass:"logBr"})])}]},_=e("VU/8")(g,m,!1,null,null,null).exports,f=firebase.auth(),C={data:function(){return{}},methods:{signout:function(){var t=this;console.log("登出"),f.signOut().then(function(){t.axios.post("https://take-or-leave.herokuapp.com/api/logout").then(function(s){setTimeout(function(){},1e3),console.log(s.data),s.data.success&&(t.$swal("登出成功：）"),t.$router.push("/home"))})})}}},w={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"leftSide"},[e("ul",{staticClass:"memberList"},[e("li",{staticClass:"mli memberCenter active"},[t._v("會員中心")]),t._v(" "),e("li",{staticClass:"mli memberInfo"},[t._v("\n      基本資料\n      "),e("ul",{staticClass:"memberInfoList"},[e("li",{staticClass:"memberModify"},[e("router-link",{attrs:{to:"/admin/membermodify"}},[t._v("個人帳戶管理")])],1),t._v(" "),e("li",{staticClass:"memberModifyPassword"},[e("router-link",{attrs:{to:"/admin/membermodifypassword"}},[t._v("密碼修改")])],1)])]),t._v(" "),e("li",{staticClass:"mli orderList"},[t._v("\n      訂單查詢\n      "),e("ul",{staticClass:"memberEachOrder"},[e("li",{staticClass:"myGivesOrder"},[e("router-link",{attrs:{to:"/admin/giveorder"}},[t._v("我的送物")])],1),t._v(" "),e("li",{staticClass:"myGetOrder"},[e("router-link",{attrs:{to:"/admin/getorder"}},[t._v("我的取物")])],1)])]),t._v(" "),e("li",{staticClass:"mli wishList"},[e("router-link",{attrs:{to:"/admin/wishlist"}},[t._v("追蹤清單")])],1),t._v(" "),e("li",{staticClass:"mli memberShelves"},[e("router-link",{attrs:{to:"/admin/givesshelves"}},[t._v("我的送物")])],1),t._v(" "),e("li",{staticClass:"mli logOut",on:{click:t.signout}},[t._v("會員登出")])])])},staticRenderFns:[]};var k,I={components:{Navbar:p,MemberCenterList:e("VU/8")(C,w,!1,function(t){e("bhGJ")},"data-v-d5f00c16",null).exports}},$={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"wrap"},[s("a",{attrs:{name:"HEAD"}}),this._v(" "),s("Navbar"),this._v(" "),s("div",{staticClass:"infoWrap"},[s("MemberCenterList"),this._v(" "),s("router-view")],1)],1)},staticRenderFns:[]},y=e("VU/8")(I,$,!1,null,null,null).exports,G=e("woOf"),L=e.n(G),E=e("bOdI"),b=e.n(E),A={data:function(){var t;return t={giveGiveorderAlls:[],giveorderAlls:[],giveorderIDs:[],giveorderRequesters:[],giveorderProducts:[],orderType:0,isLoading:!0,giveorderStatus:[],GiveorderAlls:[],orderAlls:[],orderIDs:[],orderRequesters:[],orderProducts:[]},b()(t,"orderType",0),b()(t,"isLoading",!0),b()(t,"orderStatus",[]),b()(t,"getWishLists",[]),t},methods:(k={getgiveGoods:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(s){t.giveorderAlls=s.data.orders,t.giveorderAlls.forEach(function(s){if(0===s.type){console.log("typeGood",s),t.giveGiveorderAlls=s;var e=L()([],s);t.giveorderIDs.push(e.id),t.giveorderRequesters.push(e.requester),t.giveorderProducts.push(e.product),t.giveorderStatus.push(e.status),t.ulShow=!0,t.getOrderStatus()}})})},getGoodsDetail:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(s){t.orderAlls=s.data.orders,t.orderAlls.forEach(function(s){if(1===s.type){console.log("typeGood",s),t.GiveorderAlls=s,console.log("GiveorderAll",t.GiveorderAlls);var e=L()([],s);t.orderIDs.push(e.id),t.orderRequesters.push(e.requester),t.orderProducts.push(e.product),t.orderStatus.push(e.status),t.ulShow=!0,t.getOrderStatus()}})})},getWishInfo:function(){var t=this;this.isLoading=!0;this.$http.get("https://take-or-leave.herokuapp.com/api/like").then(function(s){console.log(s.data),t.getWishLists=s.data.likes})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getOrderStatus:function(t){return 0==t?"已取消":1==t?"已完成":2==t?"已提交":3==t?"已接受":void 0},toOrderDetail:function(t){var s=t.target.id;console.log(s);this.$router.push("/admin/getorderdetail/"+s)}},b()(k,"getOrderStatus",function(t){return 0==t?"已取消":1==t?"已完成":2==t?"已提交":3==t?"已接受":void 0}),b()(k,"toGoodInfo",function(t){var s=t.target.id;this.$router.push("/givesinfo/"+s)}),b()(k,"toGetOrderDetail",function(t){var s=t.target.id;console.log(s);this.$router.push("/admin/getorderdetail/"+s)}),b()(k,"toGiveOrderDetail",function(t){var s=t.target.id;this.$router.push("/admin/giveorderdetail/"+s)}),k),mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getgiveGoods(),this.getGoodsDetail(),this.getLogInStatus(),this.getWishInfo()}},D={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("h2",[t._v("會員中心首頁")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("h3",[t._v("追蹤清單")]),t._v(" "),e("ul",{staticClass:"heartImg"},t._l(t.getWishLists,function(s){return e("li",{key:s.id},[e("img",{attrs:{src:s.imageUrl,id:s.id,alt:""},on:{click:t.toGoodInfo}})])}),0),t._v(" "),e("h3",{staticClass:"myGiveorder"},[t._v("我的取物")]),t._v(" "),e("div",{staticClass:"myOrderList"},[e("ul",{staticClass:"myOrder"},[e("span",[t._v("訂單編號")]),t._v(" "),t._l(t.orderIDs,function(s){return e("li",{directives:[{name:"show",rawName:"v-show",value:s[5],expression:"orderID[5]"}],key:s.id,staticClass:"orderNO",attrs:{id:s},on:{click:t.toGetOrderDetail}},[t._v(t._s(s.split("-")[0]))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("商品名稱")]),t._v(" "),t._l(t.orderProducts,function(s){return e("li",{key:s.id},[t._v(t._s(s.title))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("送物者")]),t._v(" "),t._l(t.orderProducts,function(s){return e("li",{key:s.id},[t._v(t._s(s.poster))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("訂單狀態")]),t._v(" "),t._l(t.orderStatus,function(s){return e("li",{key:s.id},[t._v(t._s(t.getOrderStatus(s)))])})],2)]),t._v(" "),e("h3",{staticClass:"myGiveorder"},[t._v("我的送物")]),t._v(" "),e("div",{staticClass:"myOrderList"},[e("ul",{staticClass:"myOrder"},[e("span",[t._v("訂單編號")]),t._v(" "),t._l(t.giveorderIDs,function(s){return e("li",{key:s.id,staticClass:"orderNO",attrs:{id:s},on:{click:t.toGiveOrderDetail}},[t._v(t._s(s.split("-")[0]))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("商品名稱")]),t._v(" "),t._l(t.giveorderProducts,function(s){return e("li",{key:s.id},[t._v(t._s(s.title))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("取物者")]),t._v(" "),t._l(t.giveorderRequesters,function(s){return e("li",{key:s.id},[t._v(t._s(s.name))])})],2),t._v(" "),e("ul",{staticClass:"myOrder"},[e("span",[t._v("訂單狀態")]),t._v(" "),t._l(t.giveorderStatus,function(s){return e("li",{key:s.id},[t._v(t._s(t.getOrderStatus(s)))])})],2)])])},staticRenderFns:[]};var N=e("VU/8")(A,D,!1,function(t){e("MfLr")},"data-v-337bb3e3",null).exports,S=firebase.auth(),O={components:{Navbar:p},data:function(){return{newUser:{displayName:"",phone:"",email:"",password:"",passwordCheck:""},usernameError:!1,errMessage:"",passwordError:!1,passErrMsg:"",phoneError:!1,phoneErrMsg:"",emailError:!1,emailErrMsg:""}},watch:{newUser:{handler:function(t){console.log(t.displayName),""==t.displayName?(this.usernameError=!1,this.errMessage=""):/^[a-zA-Z0-9]+$/.test(t.displayName)?t.displayName.length>10?(this.usernameError=!0,this.errMessage="請勿超過10個字"):(this.usernameError=!1,this.errMessage=""):(this.usernameError=!0,this.errMessage="請勿包含特殊字元"),""==t.phone?(this.phoneError=!1,this.phoneErrMsg=""):t.phone.length>10||t.phone.length<10?(this.phoneError=!0,this.phoneErrMsg="電話格式錯誤"):(this.phoneError=!1,this.phoneErrMsg="");""==t.email?(this.emailError=!1,this.emailErrMsg=""):/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(t.email)?(this.emailError=!1,this.emailErrMsg=""):(this.emailError=!0,this.emailErrMsg="email格式錯誤");""==t.password?(this.passwordError=!1,this.passErrMsg=""):/^[a-zA-Z0-9]+$/.test(t.password)?t.password.length<12?(this.passwordError=!0,this.passErrMsg="請勿少於12個字"):t.password.length>16?(this.passwordError=!0,this.passErrMsg="請勿超過16個字"):(this.passwordError=!1,this.passErrMsg=""):(this.passwordError=!0,this.passErrMsg="請勿包含特殊字元")},deep:!0}},methods:{signUp:function(){var t=this,s="https://take-or-leave.herokuapp.com/api/user";console.log(s);var e=this;console.log(e),console.log(e.newUser),e.$http.post(s,e.newUser).then(function(s){console.log(s.data),s.data.success||t.$swal({type:"error",title:"Oops",text:""+s.data.message}),S.signInWithEmailAndPassword(e.newUser.email,e.newUser.password).then(function(s){s.user&&!s.user.emailVerified&&s.user.sendEmailVerification().then(function(){t.newUser={},console.log("成功"),t.$swal("註冊成功，請驗證信箱並重新登入","","success"),e.$router.push("/login")}).catch(function(s){console.log(s),t.$swal({type:"error",title:"Oops",text:"寄送驗證信失敗，請重新登入並至會員頁面操作"})}),t.signout()}).catch(function(s){console.log(s),t.$swal({type:"error",title:"Oops",text:"寄送驗證信失敗，請重新登入並至會員頁面操作"})})})},signout:function(){var t=this;console.log("登出"),S.signOut().then(function(){t.axios.post("https://take-or-leave.herokuapp.com/api/logout").then(function(t){setTimeout(function(){},1e3),console.log(t.data),t.data.success&&vm.$router.push("/login")})})}},created:function(){}},P={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("a",{attrs:{name:"HEAD"}}),t._v(" "),e("Navbar"),t._v(" "),e("div",{staticClass:"infoWrap"}),t._v(" "),e("div",{staticClass:"logWrap"},[t._m(0),t._v(" "),e("h2",[t._v("ACCOUNT")]),t._v(" "),e("span",{staticClass:"accountLine"}),t._v(" "),e("h3",[t._v("SIGN UP")]),t._v(" "),e("div",{staticClass:"signupInfo"},[e("h4",[t._v("User Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.displayName,expression:"newUser.displayName"}],class:{"is-invalid":t.usernameError},attrs:{type:"text",name:"displayName"},domProps:{value:t.newUser.displayName},on:{input:function(s){s.target.composing||t.$set(t.newUser,"displayName",s.target.value)}}}),t._v(" "),e("span",[t._v(t._s(t.errMessage))]),t._v(" "),e("h4",[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.phone,expression:"newUser.phone"}],attrs:{type:"text"},domProps:{value:t.newUser.phone},on:{input:function(s){s.target.composing||t.$set(t.newUser,"phone",s.target.value)}}}),t._v(" "),e("span",[t._v(t._s(t.phoneErrMsg))]),t._v(" "),e("h4",[t._v("Email address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",required:""},domProps:{value:t.newUser.email},on:{input:function(s){s.target.composing||t.$set(t.newUser,"email",s.target.value)}}}),t._v(" "),e("span",[t._v(t._s(t.emailErrMsg))]),t._v(" "),e("h4",[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password"},domProps:{value:t.newUser.password},on:{input:function(s){s.target.composing||t.$set(t.newUser,"password",s.target.value)}}}),t._v(" "),e("span",[t._v(t._s(t.passErrMsg))]),t._v(" "),e("h4",[t._v("Reconfirm the Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.passwordCheck,expression:"newUser.passwordCheck"}],attrs:{type:"password"},domProps:{value:t.newUser.passwordCheck},on:{input:function(s){s.target.composing||t.$set(t.newUser,"passwordCheck",s.target.value)}}})]),t._v(" "),e("button",{staticClass:"signupBtn",on:{click:t.signUp}},[t._v("SIGN UP")])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"accountLink"},[s("h4",[this._v("HOME")]),this._v(" "),s("h4",[this._v("/")]),this._v(" "),s("span",[this._v("account")])])}]};var x=e("VU/8")(O,P,!1,function(t){e("TG6u")},"data-v-50d1dd68",null).exports,U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"footer"},[s("div",{staticClass:"topLine"}),this._v(" "),s("div",{staticClass:"top"},[s("a",{attrs:{href:"#HEAD"}},[this._v("TOP")])]),this._v(" "),s("div",{staticClass:"community"},[s("i",{staticClass:"fab fa-facebook-f"}),this._v(" "),s("i",{staticClass:"fab fa-instagram"})]),this._v(" "),s("p",[this._v("Copyright © DESIGNED 2019")])])}]},B=e("VU/8")(null,U,!1,null,null,null).exports,F={components:{Navbar:p,Footer:B}},q={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("a",{attrs:{name:"HEAD"}}),t._v(" "),e("Navbar"),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("Footer")],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"coverflow homeFlow"},[i("img",{attrs:{src:e("mCAx"),alt:""}}),t._v(" "),i("h2",{staticClass:"animated slideInRight"},[t._v("Wall Clock")]),t._v(" "),i("h3",{staticClass:"animated slideInRight"},[t._v("Other")]),t._v(" "),i("div",{staticClass:"animated slideInRight bLine"}),t._v(" "),i("div",{staticClass:"slideLine"},[i("div",{staticClass:"slideLeft"}),t._v(" "),i("span",[t._v("01")])]),t._v(" "),i("div",{staticClass:"slideLine slideRight"},[i("span",[t._v("02")]),t._v(" "),i("div",{staticClass:"slideLeft"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"slideBox"},[s("div",{staticClass:"boxAll box_1"}),this._v(" "),s("div",{staticClass:"boxAll box_1"}),this._v(" "),s("div",{staticClass:"boxAll box_1"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"whyDo"},[s("div",{staticClass:"whyImg"}),this._v(" "),s("h2",{staticClass:"animated slideInLeft"},[this._v("why")]),this._v(" "),s("span",{staticClass:"animated slideInLeft"},[this._v("\n      Lorem ipsum dolor sit amet consectetur adipisicing elit.\n      Voluptate molestias, delectus commodi nobis\n      pariatur ipsum, aut eveniet ullam veritatis maxime voluptatum illo! Eligendi nostrum iure temporibus\n      blanditiis? Omnis, et amet.\n    ")])])}]},R=e("VU/8")(F,q,!1,null,null,null).exports,W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"rightSide"},[i("h2",[t._v("會員中心首頁")]),t._v(" "),i("div",{staticClass:"divider"}),t._v(" "),i("h3",[t._v("追蹤清單前5筆")]),t._v(" "),i("ul",{staticClass:"heartImg"},[i("li",[i("img",{attrs:{src:e("j94I"),alt:""}})]),t._v(" "),i("li",[i("img",{attrs:{src:e("j94I"),alt:""}})]),t._v(" "),i("li",[i("img",{attrs:{src:e("j94I"),alt:""}})]),t._v(" "),i("li",[i("img",{attrs:{src:e("j94I"),alt:""}})]),t._v(" "),i("li",[i("img",{attrs:{src:e("j94I"),alt:""}})])]),t._v(" "),i("h3",[t._v("我的取物前5筆")]),t._v(" "),i("div",{staticClass:"myOrderList myGetGivs"},[i("div",[i("span",[t._v("訂單編號")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[t._v("123456")]),t._v(" "),i("li",[t._v("234567")]),t._v(" "),i("li",[t._v("345678")]),t._v(" "),i("li",[t._v("456789")])])]),t._v(" "),i("div",[i("span",[t._v("商品名稱")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[t._v("Airpods")]),t._v(" "),i("li",[t._v("Bottle")]),t._v(" "),i("li",[t._v("Walk Clock")]),t._v(" "),i("li",[t._v("Watch")])])]),t._v(" "),i("div",[i("span",[t._v("送物者")]),t._v(" "),i("ul",{staticClass:"myOrder giveMember"},[i("li",[t._v("花花")]),t._v(" "),i("li",[t._v("跳跳")]),t._v(" "),i("li",[t._v("小花")]),t._v(" "),i("li",[t._v("太陽")])])]),t._v(" "),i("div",[i("span",[t._v("訂單狀態")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[t._v("已接收")]),t._v(" "),i("li",[t._v("已提交")]),t._v(" "),i("li",[t._v("已完成")]),t._v(" "),i("li",[t._v("已取消")])])])]),t._v(" "),i("h3",[t._v("我的送物前5筆")]),t._v(" "),i("div",{staticClass:"myOrderList myGivs"},[i("div",[i("span",[t._v("訂單編號")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[t._v("123456")]),t._v(" "),i("li",[t._v("876543")]),t._v(" "),i("li",[t._v("765432")]),t._v(" "),i("li",[t._v("654321")])])]),t._v(" "),i("div",[i("span",[t._v("商品名稱")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[t._v("Airpods")]),t._v(" "),i("li",[t._v("巧克力")]),t._v(" "),i("li",[t._v("娃娃")]),t._v(" "),i("li",[t._v("手機")])])]),t._v(" "),i("div",[i("span",[t._v("取物者")]),t._v(" "),i("ul",{staticClass:"myOrder giveMember"},[i("li",[t._v("飛飛")]),t._v(" "),i("li",[t._v("幼幼")]),t._v(" "),i("li",[t._v("悄悄")]),t._v(" "),i("li",[t._v("水水")])])]),t._v(" "),i("div",[i("span",[t._v("訂單狀態")]),t._v(" "),i("ul",{staticClass:"myOrder giveNo"},[i("li",[i("button",{staticClass:"centerBtns cancelBtn"},[t._v("取消")]),t._v(" "),i("button",{staticClass:"centerBtns getBtn"},[t._v("接收")]),t._v(" "),i("button",{staticClass:"centerBtns doneBtn"},[t._v("完成")])]),t._v(" "),i("li",[t._v("已提交")]),t._v(" "),i("li",[t._v("已完成")]),t._v(" "),i("li",[t._v("已取消")])])])])])}]},M=e("VU/8")(null,W,!1,null,null,null).exports,T={data:function(){return{orderRequester:{},orderProduct:{},orderPoster:{},orderID:"",orderStatus:"",isLoading:!0,requestBTN:{submit:""}}},methods:{getGoodsDetail:function(){var t=this,s=this;this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(e){var i=t.$route.params.goods_id;console.log(i),console.log(e.data),e.data.orders.forEach(function(t){if(console.log(t.id),i==t.id){console.log("product.id",t.id);var e=L()({},t);console.log("getOrderInfo",e),s.orderRequester=e.requester,s.orderProduct=e.product,s.orderID=e.id,s.orderStatus=e.status,s.orderPoster=e.poster}})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getOrderID:function(){return this.orderID.split("-",1)[0]},getOrderStatus:function(){return"0"==this.orderStatus?"已取消":"1"==this.orderStatus?"已完成":"2"==this.orderStatus?"已提交":"3"==this.orderStatus?"已接受":void 0},back:function(){this.$router.go(-1)},noRequest:function(){var t=this,s=this,e="https://take-or-leave.herokuapp.com/api/order/"+s.orderID;s.requestBTN.submit="0",this.$swal({title:"你確定要取消訂單嗎?",text:"哭哭，不要取消喇",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定取消"}).then(function(i){i.value&&s.$http.put(e,s.requestBTN).then(function(s){console.log("response.data",s.data),s.data.success&&(t.$swal("取消訂單成功!","","success"),t.getGoodsDetail(),t.$router.push("/admin/getorder"))})}),"0"==s.orderStatus&&this.$swal({type:"error",title:"Oops",text:"訂單已取消"}),"1"==s.orderStatus&&this.$swal({type:"error",title:"Oops",text:"訂單已完成"}),"3"==s.orderStatus&&this.$swal({type:"error",title:"Oops",text:"對方已接受訂單"}),this.$router.push("/admin/getorder")}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoodsDetail(),this.getOrderID(),this.getLogInStatus(),this.getOrderStatus()},filters:{time:function(t){var s=new Date(t),e=s.toString();return console.log(e.split(" ",4).join(" ")),e.split(" ",4).join(" ")}}},V={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("取物訂單明細")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"giveWrap"},[e("img",{attrs:{src:t.orderProduct.imageUrl,alt:""}}),t._v(" "),e("div",{staticClass:"divider giveLine"}),t._v(" "),e("div",{staticClass:"giveDetail"},[e("div",{staticClass:"getngive"},[e("span",[t._v("送物者")]),t._v(" "),e("span",[t._v(t._s(t.orderPoster.name))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("送物時間")]),t._v(" "),e("span",[t._v(t._s(t._f("time")(t.orderProduct.create_time)))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("送物者LINE ID")]),t._v(" "),e("span",[t._v(t._s(t.orderPoster.lineID))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("訂單編號")]),t._v(" "),e("span",[t._v(t._s(t.getOrderID()))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("送物名稱")]),t._v(" "),e("span",[t._v(t._s(t.orderProduct.title))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("取物說明")]),t._v(" "),e("span",{staticClass:"storySpan"},[t._v(t._s(t.orderRequester.message))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("訂單狀態")]),t._v(" "),e("span",[t._v(t._s(t.getOrderStatus()))])])]),t._v(" "),e("div",{staticClass:"getBtns"},[e("button",{staticClass:"noRequestBtn",on:{click:t.noRequest}},[t._v("取消請求")]),t._v(" "),e("button",{staticClass:"checkGetOrderBtn",on:{click:t.back}},[t._v("查詢其他取物訂單")])])])],1)},staticRenderFns:[]},H=e("VU/8")(T,V,!1,null,null,null).exports,j={data:function(){return b()({orderRequester:{},orderProduct:{},orderPoster:{},orderID:"",orderStatus:"",isLoading:!0,showBTN:!1,hideBtn:!0,requestBTN:{submit:""}},"isLoading",!1)},methods:{getGoodsDetail:function(){var t=this,s=this;s.isLoading=!0,this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(e){console.log(e.data);var i=t.$route.params.goods_id;e.data.orders.forEach(function(e){if(i==e.id){console.log("product",e);var o=L()({},e);console.log("getOrderInfo",o),console.log("status",o.status),s.orderRequester=o.requester,s.orderProduct=o.product,s.orderID=o.id,s.orderStatus=o.status,s.orderPoster=o.poster}"2"==t.orderStatus&&(t.showBTN=!0),"0"==t.orderStatus&&(t.showBTN=!1),"3"==t.orderStatus&&(t.showBTN=!0,t.hideBtn=!1)}),s.isLoading=!1})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getOrderID:function(){return this.orderID.split("-")[0]},noRequest:function(){var t=this,s=this,e=s.orderID;s.requestBTN.submit="0",console.log("取消");var i="https://take-or-leave.herokuapp.com/api/order/"+e;console.log(s.requestBTN),s.$http.put(i,s.requestBTN).then(function(s){console.log("test"),console.log("response.data",s.data),s.data.success&&(t.$swal("取消訂單成功!","","success"),t.getGoodsDetail(),t.$router.push("/admin/giveorder"))})},doneOrder:function(){var t=this,s=this,e=s.orderID;s.requestBTN.submit="1",console.log(s.requestBTN),console.log("完成");var i="https://take-or-leave.herokuapp.com/api/order/"+e;s.$http.put(i,s.requestBTN).then(function(s){console.log("response.data",s.data),s.data.success&&(t.$swal("完成訂單嚕！","","success"),t.getGoodsDetail(),t.$router.push("/admin/giveorder"))})},saveOrder:function(){var t=this,s=this,e=s.orderID;s.requestBTN.submit="3",console.log(s.requestBTN),console.log("接收");var i="https://take-or-leave.herokuapp.com/api/order/"+e;s.$http.put(i,s.requestBTN).then(function(s){console.log("response.data",s.data),s.data.success&&(t.$swal("接收訂單嚕！","","success"),t.getGoodsDetail(),t.$router.push("/admin/giveorder"))})},back:function(){this.$router.go(-1)}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoodsDetail(),this.getOrderID(),this.getLogInStatus(),this.getOrderStatus()},filters:{time:function(t){var s=new Date(t),e=s.toString();return console.log(e.split(" ",4).join(" ")),e.split(" ",4).join(" ")}}},Z={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("送物訂單明細")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"giveWrap"},[e("img",{attrs:{src:t.orderProduct.imageUrl,alt:""}}),t._v(" "),e("div",{staticClass:"divider giveLine"}),t._v(" "),e("div",{staticClass:"giveDetail"},[e("div",{staticClass:"getngive"},[e("span",[t._v("訂單編號")]),t._v(" "),e("span",[t._v(t._s(t.getOrderID()))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("取物者")]),t._v(" "),e("span",[t._v(t._s(t.orderRequester.name))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("手機")]),t._v(" "),e("span",[t._v(t._s(t.orderRequester.phone))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("取物者LINE ID")]),t._v(" "),e("span",[t._v(t._s(t.orderRequester.lineID))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("取物名稱")]),t._v(" "),e("span",[t._v(t._s(t.orderProduct.title))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("取物說明")]),t._v(" "),e("span",[t._v(t._s(t.orderRequester.message))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("是否接單")]),t._v(" "),t.showBTN?e("div",{staticClass:"giveBtns"},[t.hideBtn?e("button",{staticClass:"cancelBtn",on:{click:t.noRequest}},[t._v("取消")]):t._e(),t._v(" "),t.hideBtn?e("button",{staticClass:"getBtn",on:{click:t.saveOrder}},[t._v("接收")]):t._e(),t._v(" "),e("button",{staticClass:"doneBtn",on:{click:t.doneOrder}},[t._v("完成")])]):t._e()]),t._v(" "),e("button",{staticClass:"checkGiveOrderBtn",on:{click:t.back}},[t._v("查詢其他送物訂單")])])])],1)},staticRenderFns:[]},z=e("VU/8")(j,Z,!1,null,null,null).exports,J={components:{Navbar:p},data:function(){return{goods:[],isLoading:!1,user:{},userForm:{phone:"",lineID:"",name:""}}},methods:{getUser:function(){var t=this;console.log(t.$route.params.goods_id),this.$http.get("https://take-or-leave.herokuapp.com/api/user").then(function(s){console.log(s.data),s.data.success&&(t.user=s.data.userInfo,t.userForm.product_id=t.$route.params.goods_id,console.log(t.user.displayName),t.userForm.lineID=t.user.lineID,t.userForm.phone=t.user.phone,t.userForm.name=t.user.displayName,console.log("login",s.data))})},getGoods:function(){var t=this;t.isLoading=!0;var s=this.$route.params.goods_id;console.log("goods_id",s),this.$http.get("https://take-or-leave.herokuapp.com/api/products").then(function(e){e.data.products.forEach(function(e){if(s==e.id){var i=e;t.goods=i}})})},getInfoID:function(){return this.goods.id.split("-",1)[0]},postForm:function(){var t=this,s=this;this.$http.post("https://take-or-leave.herokuapp.com/api/order",s.userForm).then(function(e){console.log(e.data),e.data.success?(t.$swal("送出成功！","","success"),s.$router.push("/admin/getorder")):t.$swal({type:"error",title:"Oops",text:"不能下標自己商品喇～"})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},3e3)},created:function(){this.getUser(),this.getGoods(),this.getLogInStatus()}},Y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("Navbar"),t._v(" "),e("div",{staticClass:"logWrap"},[t._m(0),t._v(" "),e("h2",[t._v("取物者資料")]),t._v(" "),e("span",{staticClass:"accountLine"}),t._v(" "),e("div",{staticClass:"formWrap"},[e("div",{staticClass:"leftForm"},[e("div",{staticClass:"givesNo"},[e("span",[t._v("送物編號")]),t._v(" "),e("span",[t._v(t._s(t.getInfoID()))])]),t._v(" "),e("div",{staticClass:"givesNo"},[e("span",[t._v("送物名稱")]),t._v(" "),e("span",[t._v(t._s(t.goods.title))])])]),t._v(" "),e("div",{staticClass:"getGivesLine"}),t._v(" "),e("div",{staticClass:"rightForm"},[e("div",{staticClass:"givesNo"},[e("span",[t._v("姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.name,expression:"userForm.name"}],attrs:{type:"text"},domProps:{value:t.userForm.name},on:{input:function(s){s.target.composing||t.$set(t.userForm,"name",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesNo"},[e("span",[t._v("聯絡電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.phone,expression:"userForm.phone"}],attrs:{type:"text"},domProps:{value:t.userForm.phone},on:{input:function(s){s.target.composing||t.$set(t.userForm,"phone",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesNo"},[e("span",[t._v("LINE ID")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userForm.lineID,expression:"userForm.lineID"}],attrs:{type:"text"},domProps:{value:t.userForm.lineID},on:{input:function(s){s.target.composing||t.$set(t.userForm,"lineID",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesNo"},[e("span",[t._v("取物說明")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userForm.message,expression:"userForm.message"}],attrs:{type:"text",cols:"21",rows:"3"},domProps:{value:t.userForm.message},on:{input:function(s){s.target.composing||t.$set(t.userForm,"message",s.target.value)}}})]),t._v(" "),e("button",{staticClass:"formBtn",on:{click:t.postForm}},[t._v("確認送出")])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"accountLink"},[s("h4",[this._v("HOME")]),this._v(" "),s("h4",[this._v("/")]),this._v(" "),s("span",[this._v("account")])])}]},X=e("VU/8")(J,Y,!1,null,null,null).exports,K={data:function(){return{GiveorderAlls:[],orderAlls:[],orderIDs:[],orderRequesters:[],orderProducts:[],orderType:0,isLoading:!0,orderStatus:[],ulShow:!1}},methods:{getGoodsDetail:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(s){t.orderAlls=s.data.orders,t.orderAlls.forEach(function(s){if(1===s.type){console.log("typeGood",s),t.GiveorderAlls=s,console.log("GiveorderAll",t.GiveorderAlls);var e=L()([],s);t.orderIDs.push(e.id),t.orderRequesters.push(e.requester),t.orderProducts.push(e.product),t.orderStatus.push(e.status),t.ulShow=!0,t.getOrderStatus()}})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getOrderStatus:function(t){return 0==t?"已取消":1==t?"已完成":2==t?"已提交":3==t?"已接受":void 0},toOrderDetail:function(t){var s=t.target.id;console.log(s);this.$router.push("/admin/getorderdetail/"+s)}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoodsDetail(),this.getLogInStatus()}},Q={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("取物訂單查詢")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"itemWrap"},[e("ul",{staticClass:"orderItem"},[e("h3",[t._v("訂單編號")]),t._v(" "),t._l(t.orderIDs,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",{staticClass:"liHover",attrs:{id:s},on:{click:t.toOrderDetail}},[t._v(t._s(s.split("-")[0]))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("商品名稱")]),t._v(" "),t._l(t.orderProducts,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(s.title))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("送物者")]),t._v(" "),t._l(t.orderProducts,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(s.poster))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("訂單狀態")]),t._v(" "),t._l(t.orderStatus,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(t.getOrderStatus(s)))])])})],2)])],1)},staticRenderFns:[]};var tt=e("VU/8")(K,Q,!1,function(t){e("8r5Y")},null,null).exports,st={data:function(){return{GiveorderAlls:[],orderAlls:[],orderIDs:[],orderRequesters:[],orderProducts:[],orderType:0,isLoading:!0,orderStatus:[],ulShow:!1}},methods:{getGoodsDetail:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/orders").then(function(s){t.orderAlls=s.data.orders,t.orderAlls.forEach(function(s){if(0===s.type){console.log("typeGood",s),t.GiveorderAlls=s,console.log("GiveorderAll",t.GiveorderAlls);var e=L()([],s);t.orderIDs.push(e.id),t.orderRequesters.push(e.requester),t.orderProducts.push(e.product),t.orderStatus.push(e.status),t.ulShow=!0,t.getOrderStatus()}})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getOrderStatus:function(t){return 0==t?"已取消":1==t?"已完成":2==t?"已提交":3==t?"已接受":void 0},toOrderDetail:function(t){var s=t.target.id;this.$router.push("/admin/giveorderdetail/"+s)}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoodsDetail(),this.getLogInStatus()}},et={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("送物訂單查詢")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"itemWrap"},[e("ul",{staticClass:"orderItem"},[e("h3",[t._v("訂單編號")]),t._v(" "),t._l(t.orderIDs,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",{staticClass:"liHover",attrs:{id:s},on:{click:t.toOrderDetail}},[t._v(t._s(s.split("-")[0]))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("商品名稱")]),t._v(" "),t._l(t.orderProducts,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(s.title))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("取物者")]),t._v(" "),t._l(t.orderRequesters,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(s.name))])])})],2),t._v(" "),e("ul",{staticClass:"orderItem"},[e("h3",[t._v("訂單狀態")]),t._v(" "),t._l(t.orderStatus,function(s){return e("li",{key:s.id,staticClass:"orderItemLI"},[e("span",[t._v(t._s(t.getOrderStatus(s)))])])})],2)])],1)},staticRenderFns:[]};var it=e("VU/8")(st,et,!1,function(t){e("3rnP")},null,null).exports,ot={components:{Navbar:p,Footer:B},data:function(){return{goods:[],isLoading:!1,visibility:"all",pagination:{},classPage:"classPage",disabled:!1,wishGood:{product_id:""}}},methods:{getGoods:function(){var t="https://take-or-leave.herokuapp.com/api/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),s=this;s.isLoading=!0,this.$http.get(t).then(function(t){t.data.success&&(s.isLoading=!1,s.goods=t.data.products,s.pagination=t.data.pagination,window.scrollTo(0,0))})},getGoodsAll:function(){var t=0;return this.goods&&(t=this.goods.length),t},getGoodsMaksup:function(){var t=0,s=[];return this.goods.forEach(function(e){"makeups"==e.category&&(s.push(e),t=s.length)}),t},getGoodsShoes:function(){var t=0,s=[];return this.goods.forEach(function(e){"shoes"==e.category&&(s.push(e),t=s.length)}),t},getGoodsClothing:function(){var t=0,s=[];return this.goods.forEach(function(e){"clothing"==e.category&&(s.push(e),t=s.length)}),t},getGoods3C:function(){var t=0,s=[];return this.goods.forEach(function(e){"3C"==e.category&&(s.push(e),t=s.length)}),t},getGoodsOther:function(){var t=0,s=[];return this.goods.forEach(function(e){"other"==e.category&&(s.push(e),t=s.length)}),t},getGoodsID:function(t){var s=t.target.id;this.$router.push("/givesinfo/"+s)},addtoWish:function(t){var s=this;console.log("點到ㄌ");var e=t.target.id;console.log(e);this.wishGood.product_id=e;this.$http.post("https://take-or-leave.herokuapp.com/api/like",this.wishGood).then(function(t){console.log(t.data),t.data.success&&s.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",title:"已加入追蹤"})})}},computed:{filterGoods:function(){var t=this;if("all"==t.visibility)return t.goods;if("makeups​"==this.visibility){var s=[];return t.goods.forEach(function(t){"makeups"==t.category&&(console.log("點makeups"),s.push(t))}),s}if("shoes​"==this.visibility){console.log("點shoes​");var e=[];return t.goods.forEach(function(t){console.log(t),"shoes"==t.category&&(console.log("點shoes​"),e.push(t),console.log(e))}),e}if("clothing"==this.visibility){var i=[];return t.goods.forEach(function(t){"clothing"==t.category&&(console.log("點clothing"),i.push(t))}),i}if("3C"==this.visibility){var o=[];return t.goods.forEach(function(t){"3C"==t.category&&(console.log("點3c"),o.push(t))}),o}if("other"==this.visibility){var a=[];return t.goods.forEach(function(t){"other"==t.category&&(console.log("點other"),a.push(t))}),a}}},created:function(){this.getGoods(),this.getGoodsAll(),this.getGoodsMaksup(),this.getGoodsShoes(),this.getGoodsClothing(),this.getGoods3C(),this.getGoodsOther()}},at={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("a",{attrs:{name:"HEAD"}}),t._v(" "),e("Navbar"),t._v(" "),t._m(0),t._v(" "),e("ul",{staticClass:"classification"},[e("li",{on:{click:function(s){t.visibility="all"}}},[e("span",[t._v("ALL")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoodsAll()))])]),t._v(" "),e("li",{on:{click:function(s){t.visibility="makeups​"}}},[e("span",[t._v("makeups​")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoodsMaksup()))])]),t._v(" "),e("li",{on:{click:function(s){t.visibility="shoes​"}}},[e("span",[t._v("shoes​")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoodsShoes()))])]),t._v(" "),e("li",{on:{click:function(s){t.visibility="clothing"}}},[e("span",[t._v("clothing")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoodsClothing()))])]),t._v(" "),e("li",{on:{click:function(s){t.visibility="3C"}}},[e("span",[t._v("3C")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoods3C()))])]),t._v(" "),e("li",{on:{click:function(s){t.visibility="other"}}},[e("span",[t._v("other")]),t._v(" "),e("div",{staticClass:"amount"},[t._v(t._s(t.getGoodsOther()))])])]),t._v(" "),e("ul",{staticClass:"giveListWrap"},t._l(t.filterGoods,function(s){return e("li",{key:s.id,staticClass:"giveInfo",style:{backgroundImage:"url("+s.imageUrl+")"},attrs:{id:s.id},on:{click:t.getGoodsID}},[e("div",{staticClass:"heart"},[e("i",{staticClass:"far fa-heart",attrs:{id:s.id},on:{click:t.addtoWish}})]),t._v(" "),e("div",{staticClass:"infoHover",attrs:{id:s.id}},[e("h3",[t._v(t._s(s.title))])])])}),0),t._v(" "),e("div",{staticClass:"pageWrap"},[(t.pagination.has_pre?!t.disabled:t.disabled)?e("div",{staticClass:"page pre",on:{click:function(s){return s.preventDefault(),t.getGoods(t.pagination.current_page-1)}}},[t._v("←")]):t._e(),t._v(" "),t._l(t.pagination.total_pages,function(s){return e("div",{key:s.id,staticClass:"page pOne",class:{classPage:t.pagination.current_page==s},on:{click:function(e){return e.preventDefault(),t.getGoods(s)}}},[t._v(t._s(s))])}),t._v(" "),(t.pagination.has_next?!t.disabled:t.disabled)?e("div",{staticClass:"page latest",on:{click:function(s){s.preventDefault(),t.getGoods(parseInt(t.pagination.current_page)+1)}}},[t._v("→")]):t._e()],2),t._v(" "),e("Footer")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"coverflow"},[s("img",{attrs:{src:e("mCAx"),alt:""}}),this._v(" "),s("h2",{staticClass:"animated slideInRight"},[this._v("Wall Clock")]),this._v(" "),s("h3",{staticClass:"animated slideInRight"},[this._v("Other")]),this._v(" "),s("div",{staticClass:"animated slideInRight bLine"})])}]};var rt=e("VU/8")(ot,at,!1,function(t){e("Iw+O")},"data-v-89b053e8",null).exports,nt=firebase.auth();console.log("auth: ",nt);var lt={data:{return:{resetEmail:""}},components:{Navbar:p},methods:{forgetPassword:function(){var t=this;nt.sendPasswordResetEmail(this.resetEmail).then(function(){t.$swal("請至信箱更改密碼","","success"),t.$router.push("/login")}).catch(function(s){s.message;"auth/user-not-found"===s.code&&t.$swal({type:"error",title:"Oops",text:"查無此信箱"})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})}},created:function(){this.getLogInStatus()}},dt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("Navbar"),t._v(" "),e("div",{staticClass:"logWrap"},[t._m(0),t._v(" "),e("h2",[t._v("密碼修改")]),t._v(" "),e("div",{staticClass:"logInfo"},[e("h4",[t._v("新的密碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.resetEmail,expression:"resetEmail"}],attrs:{type:"email"},domProps:{value:t.resetEmail},on:{input:function(s){s.target.composing||(t.resetEmail=s.target.value)}}})]),t._v(" "),e("button",{staticClass:"sendBtn mailPwdBtn",on:{click:t.forgetPassword}},[t._v("送出")])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"accountLink"},[s("h4",[this._v("HOME")]),this._v(" "),s("h4",[this._v("/")]),this._v(" "),s("span",[this._v("account")])])}]},ct=e("VU/8")(lt,dt,!1,null,null,null).exports,vt={data:function(){return{getAdminInfo:[],tempAdmin:{displayName:""},isLoading:!0}},methods:{getAdmin:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/user?isPassword=false").then(function(s){s.data.success&&(t.tempAdmin=s.data.userInfo,t.getAdminInfo=s.data.userInfo,console.log("vm.getAdminInfo",t.getAdminInfo))})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},editInfo:function(){var t=this,s=this;s.$http.put("https://take-or-leave.herokuapp.com/api/user?isPassword=false",s.tempAdmin).then(function(e){console.log(e.data),e.data.success?(t.$swal("更新成功嚕！","","success"),s.getAdmin()):(s.getAdmin(),t.$swal({type:"error",title:"Oops",text:"更新失敗"}))})}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},1e3)},created:function(){this.getAdmin(),this.getLogInStatus()}},ut={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("個人帳戶管理")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"accountWrap"},[e("div",{staticClass:"accountInfo"},[e("span",[t._v("帳號")]),t._v(" "),e("span",[t._v(t._s(t.tempAdmin.email))])]),t._v(" "),e("div",{staticClass:"accountInfo"},[e("span",[t._v("會員名稱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempAdmin.displayName,expression:"tempAdmin.displayName"}],attrs:{type:"text"},domProps:{value:t.tempAdmin.displayName},on:{input:function(s){s.target.composing||t.$set(t.tempAdmin,"displayName",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"accountInfo"},[e("span",[t._v("行動電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempAdmin.phone,expression:"tempAdmin.phone"}],attrs:{type:"text"},domProps:{value:t.tempAdmin.phone},on:{input:function(s){s.target.composing||t.$set(t.tempAdmin,"phone",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"accountInfo"},[e("span",[t._v("LINE ID")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempAdmin.lineID,expression:"tempAdmin.lineID"}],attrs:{type:"text"},domProps:{value:t.tempAdmin.lineID},on:{input:function(s){s.target.composing||t.$set(t.tempAdmin,"lineID",s.target.value)}}})]),t._v(" "),e("button",{staticClass:"accountBtn",on:{click:t.editInfo}},[t._v("確認修改")])])],1)},staticRenderFns:[]};var pt=e("VU/8")(vt,ut,!1,function(t){e("J6o1")},"data-v-6b04c32c",null).exports,ht={data:function(){return{getAdminInfo:{},tempPassword:{newPassword:"",newPasswordConfirm:""},passwordError:!1,passErrMsg:"",isLoading:!0}},watch:{tempPassword:{handler:function(t){""==t.newPassword?(this.passwordError=!1,this.passErrMsg=""):/^[a-zA-Z0-9]+$/.test(t.newPassword)?t.newPassword.length<12?(this.passwordError=!0,this.passErrMsg="請勿少於12個字"):t.newPassword.length>16?(this.passwordError=!0,this.passErrMsg="請勿超過16個字"):(this.passwordError=!1,this.passErrMsg=""):(this.passwordError=!0,this.passErrMsg="請勿包含特殊字元")},deep:!0}},methods:{getAdmin:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/user?isPassword=true").then(function(s){s.data.success&&(console.log(s.data),t.getAdminInfo=s.data.userInfo,console.log("vm.getAdminInfo",t.getAdminInfo))})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},editPassword:function(){var t=this,s=this;s.$http.put("https://take-or-leave.herokuapp.com/api/user?isPassword=true",s.tempPassword).then(function(e){console.log(e.data),e.data.success?(t.$swal("更新成功嚕！","","success"),s.getAdmin()):(s.getAdmin(),t.$swal({type:"error",title:"Oops",text:"更新失敗"}))})}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},1e3)},created:function(){this.getAdmin(),this.getLogInStatus()}},gt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("密碼修改")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"accountWrap"},[e("div",{staticClass:"accountInfo"},[e("span",[t._v("請輸入新密碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempPassword.newPassword,expression:"tempPassword.newPassword"}],attrs:{type:"password"},domProps:{value:t.tempPassword.newPassword},on:{input:function(s){s.target.composing||t.$set(t.tempPassword,"newPassword",s.target.value)}}})]),t._v(" "),e("span",{staticClass:"passErr"},[t._v(t._s(t.passErrMsg))]),t._v(" "),e("div",{staticClass:"accountInfo"},[e("span",[t._v("新密碼再確認")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempPassword.newPasswordConfirm,expression:"tempPassword.newPasswordConfirm"}],attrs:{type:"password"},domProps:{value:t.tempPassword.newPasswordConfirm},on:{input:function(s){s.target.composing||t.$set(t.tempPassword,"newPasswordConfirm",s.target.value)}}})]),t._v(" "),e("button",{staticClass:"accountBtn",on:{click:t.editPassword}},[t._v("確認修改")])])],1)},staticRenderFns:[]};var mt=e("VU/8")(ht,gt,!1,function(t){e("Z4Iz")},"data-v-3b6ef554",null).exports,_t={data:function(){return{goods:[],isLoading:!0}},methods:{getGoods:function(){var t=this,s=this;this.$http.get("https://take-or-leave.herokuapp.com/api/admin/products").then(function(e){console.log(e.data.products);var i=t.$route.params.goods_id;console.log("goods_id",i),e.data.products.forEach(function(t){if(i==t.id){var e=L()({},t);console.log("productInfo",e),s.goods=e}})})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})},getInfoID:function(){return this.goods.id.split("-",1)[0]},back:function(){this.$router.go(-1)}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoods(),this.getInfoID(),this.getLogInStatus()},filters:{time:function(t){var s=new Date(t),e=s.toString();return console.log(e.split(" ",4).join(" ")),e.split(" ",4).join(" ")}}},ft={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("送物資料")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"giveWrap"},[e("img",{attrs:{src:t.goods.imageUrl,alt:""}}),t._v(" "),e("div",{staticClass:"divider giveLine"}),t._v(" "),e("div",{staticClass:"giveDetail"},[e("div",{staticClass:"getngive"},[e("span",[t._v("送物編號")]),t._v(" "),e("span",[t._v(t._s(t.getInfoID()))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("類別")]),t._v(" "),e("span",[t._v(t._s(t.goods.category))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("上架時間")]),t._v(" "),e("span",[t._v(t._s(t._f("time")(t.goods.create_time)))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("送物名稱")]),t._v(" "),e("span",[t._v(t._s(t.goods.title))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("送物故事")]),t._v(" "),e("span",{staticClass:"storySpan"},[t._v(t._s(t.goods.description))])]),t._v(" "),e("div",{staticClass:"getngive"},[e("span",[t._v("面交地點")]),t._v(" "),e("span",[t._v(t._s(t.goods.location))])]),t._v(" "),e("button",{staticClass:"backgivesBtn",on:{click:t.back}},[t._v("查看其他送物資料")])])])],1)},staticRenderFns:[]},Ct=e("VU/8")(_t,ft,!1,null,null,null).exports,wt=firebase.auth();console.log("auth: ",wt);var kt={data:function(){return{goods:[],isLoading:!1,tempID:"",pagination:{}}},methods:{getGoods:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this;t.isLoading=!0,this.$http.get("https://take-or-leave.herokuapp.com/api/admin/products").then(function(s){t.isLoading=!1,t.goods=s.data.products,t.pagination=s.data.pagination,console.log(t.goods)})},toGivesForm:function(){this.$router.push("/admin/givesshelvesform")},toEditForm:function(t){var s=t.target.id;console.log(s),console.log("/admin/givesshelvesform/"+s);this.$router.push("/admin/givesshelvesform/"+s)},toDetail:function(t){var s=t.target.id;this.$router.push("/admin/givesdetail/"+s)},delGoods:function(t){var s=this,e=t.target.id;this.$swal({title:"你確定要刪掉物品嗎?",text:"哭哭，不要下架喇",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定刪除"}).then(function(t){if(t.value){var i="https://take-or-leave.herokuapp.com/api/admin/product/"+e;console.log(i),s.$http.delete(i).then(function(t){console.log(t.data),t.data.success,s.getGoods()}),s.$swal("刪除成功!","","success")}})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),s.data.success||t.$router.push("/home")})}},created:function(){this.getGoods(),this.getLogInStatus()}},It={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("我的送物")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"updateWrap"},[e("button",{staticClass:"updateBtn",on:{click:t.toGivesForm}},[t._v("新增")])]),t._v(" "),t._l(t.goods,function(s){return e("ul",{key:s.id,staticClass:"givesshelvesWrap"},[e("div",{staticClass:"imgName"},[e("li",[e("img",{attrs:{src:s.imageUrl,alt:""}})]),t._v(" "),e("li",[e("h5",{staticClass:"givesshelvestName"},[t._v(t._s(s.title))])])]),t._v(" "),e("li",[e("div",{staticClass:"givesshelvesBtns"},[e("button",{staticClass:"givesDetailBtn",attrs:{id:s.id},on:{click:t.toDetail}},[t._v("送物明細")]),t._v(" "),e("button",{staticClass:"editBtn",attrs:{id:s.id},on:{click:t.toEditForm}},[t._v("編輯")])])]),t._v(" "),e("li",{attrs:{id:s.id},on:{click:t.delGoods}},[e("i",{staticClass:"fas fa-times",attrs:{id:s.id},on:{click:t.delGoods}})])])})],2)},staticRenderFns:[]};var $t=e("VU/8")(kt,It,!1,function(t){e("X/Ga")},"data-v-1ac63778",null).exports,yt={data:function(){return{goods:[],tempGood:{category:"makeups"},isLoading:!0,userInfo:{displayName:""}}},methods:{getGoods:function(){var t=this,s=this;this.$http.get("https://take-or-leave.herokuapp.com/api/admin/products").then(function(e){var i=t.$route.params.goods_id;e.data.products.forEach(function(t){if(i==t.id){var o=L()({},t);s.tempGood=o,s.goods=o}else i||(s.goods=e.data.products)})})},updateGood:function(){var t=this,s="https://take-or-leave.herokuapp.com/api/admin/product",e=this,i="post",o=location.href.split("givesshelvesform/");console.log(o),""==o[1]||void 0==o[1]?(s="https://take-or-leave.herokuapp.com/api/admin/product",i="post"):(s="https://take-or-leave.herokuapp.com/api/admin/product/"+e.tempGood.id,i="put"),this.$http[i](s,e.tempGood).then(function(s){console.log(s.data),s.data.success?(t.$swal("新增成功！","","success"),e.getGoods(),e.$router.push("/admin/givesshelves")):(e.getGoods(),t.$swal({type:"error",title:"Oops",text:"新增失敗"}))})},uploadImg:function(t){var s=this,e=new FormData;e.append("image",t.target.files[0]);this.axios.post("https://take-or-leave.herokuapp.com/api/admin/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t.data),t.data.success&&(console.log(s.tempGood),s.$set(s.tempGood,"imageUrl",t.data.imageUrl))})},getLogInStatus:function(){var t=this;this.$http.get("https://take-or-leave.herokuapp.com/api/login").then(function(s){console.log("login",s.data),t.userInfo=s.data.userInfo,s.data.success||t.$route.push("/home")})}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},2e3)},created:function(){this.getGoods(),this.getLogInStatus()}},Gt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("上架送物")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"giveWrap"},[e("div",{staticClass:"giveDetail"},[e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("會員名稱")]),t._v(" "),e("span",[t._v(t._s(t.userInfo.displayName))])]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("類別")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tempGood.category,expression:"tempGood.category"}],attrs:{name:"",id:"classSelect"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.tempGood,"category",s.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"makeups"}},[t._v("makeups")]),t._v(" "),e("option",{attrs:{value:"shoes"}},[t._v("shoes")]),t._v(" "),e("option",{attrs:{value:"clothing"}},[t._v("clothing")]),t._v(" "),e("option",{attrs:{value:"3C"}},[t._v("3C")]),t._v(" "),e("option",{attrs:{value:"other"}},[t._v("other")])])]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("上傳圖片")]),t._v(" "),e("input",{ref:"files",staticClass:"givesUp",attrs:{type:"file"},on:{change:t.uploadImg}})]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("上傳圖片")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempGood.imageUrl,expression:"tempGood.imageUrl"}],staticClass:"givesUp",attrs:{type:"text"},domProps:{value:t.tempGood.imageUrl},on:{input:function(s){s.target.composing||t.$set(t.tempGood,"imageUrl",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("送物名稱")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempGood.title,expression:"tempGood.title"}],staticClass:"givesUp",attrs:{type:"text"},domProps:{value:t.tempGood.title},on:{input:function(s){s.target.composing||t.$set(t.tempGood,"title",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("送物故事")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempGood.description,expression:"tempGood.description"}],staticClass:"givesUp imgUpdate",attrs:{cols:"30",rows:"3",type:"text"},domProps:{value:t.tempGood.description},on:{input:function(s){s.target.composing||t.$set(t.tempGood,"description",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"givesshelvesFormWrap"},[e("span",[t._v("面交地點")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempGood.location,expression:"tempGood.location"}],staticClass:"givesUp imgUpdate",attrs:{type:"text"},domProps:{value:t.tempGood.location},on:{input:function(s){s.target.composing||t.$set(t.tempGood,"location",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"upBtn"},[e("button",{staticClass:"shelvesBtn",on:{click:t.updateGood}},[t._v("上架")])])])])],1)},staticRenderFns:[]},Lt=e("VU/8")(yt,Gt,!1,null,null,null).exports,Et={components:{Navbar:p,Footer:B},data:function(){return{goods:[],isLoading:!1,wishGood:{product_id:""}}},methods:{getGoods:function(){var t=this;t.isLoading=!0;var s=this.$route.params.goods_id;console.log("goods_id",s),this.$http.get("https://take-or-leave.herokuapp.com/api/products").then(function(e){e.data.products.forEach(function(e){if(s==e.id){var i=e;t.goods=i}})})},getInfoID:function(){return this.goods.id.split("-",1)[0]},toBag:function(t){var s=t.target.id;console.log(this.goods.status),0==this.goods.status?this.$swal({type:"error",title:"Oops",text:"東西被別人捷足先登ㄌ"}):this.$router.push("/checkform/"+s)},addtoWish:function(t){var s=this;console.log("點到ㄌ");var e=t.target.id;console.log(e);this.wishGood.product_id=e;this.$http.post("https://take-or-leave.herokuapp.com/api/like",this.wishGood).then(function(t){console.log(t.data),t.data.success&&s.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",title:"已加入追蹤"})})}},mounted:function(){var t=this;setTimeout(function(){t.isLoading=!1},1e3)},created:function(){this.getGoods()},filters:{time:function(t){var s=new Date(t),e=s.toString();return console.log(e.split(" ",4).join(" ")),e.split(" ",4).join(" ")}}},bt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrap"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("a",{attrs:{name:"HEAD"}}),t._v(" "),e("Navbar"),t._v(" "),e("div",{staticClass:"infoWrap"},[e("div",{staticClass:"leftInfoSide"},[e("div",{staticClass:"indexLink"},[e("router-link",{attrs:{to:"/giveslist"}},[e("h3",[t._v("GIVEs")])]),t._v(" "),e("h3",[t._v("/")]),t._v(" "),e("span",{staticClass:"infoName"},[t._v(t._s(t.goods.title))])],1),t._v(" "),e("div",[e("img",{attrs:{src:t.goods.imageUrl,alt:""}})])]),t._v(" "),e("div",{staticClass:"rightInfo"},[e("div",{staticClass:"givesName"},[t._v(t._s(t.goods.title))]),t._v(" "),e("div",{staticClass:"givesNo"},[t._v(t._s(t.getInfoID()))]),t._v(" "),e("div",{staticClass:"addHeart"},[e("i",{staticClass:"far fa-heart",attrs:{id:t.goods.id},on:{click:t.addtoWish}})]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("p",[t._v(t._s(t.goods.description))]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("div",{staticClass:"shelvesTime"},[t._v(t._s(t._f("time")(t.goods.create_time)))]),t._v(" "),e("button",{staticClass:"addBtn",attrs:{id:t.goods.id},on:{click:t.toBag}},[t._v("ADD TO BAG")]),t._v(" "),e("div",{staticClass:"toFace"},[e("span",[t._v("面交:")]),t._v(" "),e("span",{staticClass:"facePlace"},[t._v(t._s(t.goods.location))])])])]),t._v(" "),e("div",{staticClass:"introInfo"},[e("h3",[t._v("Introduction")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),e("p",[t._v(t._s(t.goods.description))])]),t._v(" "),e("Footer")],1)},staticRenderFns:[]};var At=e("VU/8")(Et,bt,!1,function(t){e("7fdZ")},null,null).exports,Dt={data:function(){return{getWishLists:[],isLoading:!1}},methods:{getWishInfo:function(){var t=this;this.isLoading=!0;this.$http.get("https://take-or-leave.herokuapp.com/api/like").then(function(s){console.log(s.data),t.getWishLists=s.data.likes,t.isLoading=!1})},getStatus:function(t){return 1==t?"":0==t?"已下架":void 0},toBag:function(t){var s=t.target.id;this.$router.push("/checkform/"+s)},toGoodInfo:function(t){var s=t.target.id;this.$router.push("/givesinfo/"+s)},delWish:function(t){var s=this,e=t.target.id;console.log(e);var i="https://take-or-leave.herokuapp.com/api/like/"+e;this.$http.delete(i).then(function(t){console.log(t.data),t.data.success&&s.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,type:"success",title:"取消追蹤"}),s.getWishInfo()})}},created:function(){this.getWishInfo()}},Nt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rightSide"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),e("h2",[t._v("追蹤清單")]),t._v(" "),e("div",{staticClass:"divider"}),t._v(" "),t._l(t.getWishLists,function(s){return e("ul",{key:s.id,staticClass:"heartWrap"},[e("div",{staticClass:"wishImgName"},[e("li",[e("img",{attrs:{id:s.id,src:s.imageUrl,alt:""},on:{click:t.toGoodInfo}})]),t._v(" "),e("li",[e("h5",{staticClass:"heartName"},[t._v(t._s(s.title))])])]),t._v(" "),e("li",[e("div",{staticClass:"wishlistBtns"},[e("h5",{staticClass:"heartStatus"},[t._v(t._s(t.getStatus(s.status)))]),t._v(" "),e("button",{staticClass:"addtoBag",attrs:{id:s.id},on:{click:t.toBag}},[t._v("ADD TO BAG")]),t._v(" "),e("i",{staticClass:"fas fa-times",attrs:{id:s.id},on:{click:t.delWish}})])])])})],2)},staticRenderFns:[]};var St=e("VU/8")(Dt,Nt,!1,function(t){e("0i/0")},null,null).exports;i.a.use(c.a);var Ot=new c.a({routes:[{path:"*",redirect:"home"},{path:"/home",name:"Home",component:R},{path:"/login",name:"Login",component:_},{path:"/admin",name:"Dashboard",component:y,children:[{path:"center",name:"center",component:N,meta:{requiresAuth:!0}},{path:"membercenter",name:"MemberCenter",component:M,meta:{requiresAuth:!0}},{path:"getorderdetail/:goods_id",name:"GetOrderDetail",component:H,meta:{requiresAuth:!0}},{path:"giveorderdetail/:goods_id",name:"GiveOrderDetail",component:z,meta:{requiresAuth:!0}},{path:"getorder",name:"GetOrder",component:tt,meta:{requiresAuth:!0}},{path:"giveorder",name:"GiveOrder",component:it,meta:{requiresAuth:!0}},{path:"membermodify",name:"MemberModify",component:pt,meta:{requiresAuth:!0}},{path:"membermodifypassword",name:"MemberModifyPassword",component:mt,meta:{requiresAuth:!0}},{path:"givesshelves",name:"GivesShelves",component:$t,meta:{requiresAuth:!0}},{path:"givesshelvesform",name:"GivesShelvesForm",component:Lt,meta:{requiresAuth:!0}},{path:"givesshelvesform/:goods_id",name:"GivesShelvesForm",component:Lt,meta:{requiresAuth:!0}},{path:"givesdetail/:goods_id",name:"GivesDetail",component:Ct,meta:{requiresAuth:!0}},{path:"wishlist",name:"WishList",component:St,meta:{requiresAuth:!0}}]},{path:"/signup",name:"Signup",component:x},{path:"/checkform/:goods_id",name:"CheckForm",component:X},{path:"/giveslist",name:"GivesList",component:rt},{path:"/givesinfo/:goods_id",name:"GivesInfo",component:At},{path:"/forgetpassword",name:"ForgetPassword",component:ct}]}),Pt=e("hz7P"),xt=(e("UdIB"),e("ZZvs")),Ut=e.n(xt);e("SYh3");i.a.use(Pt.a),i.a.component("Loading",Ut.a),i.a.use(n.a,a.a),a.a.defaults.withCredentials=!0,i.a.config.productionTip=!1,new i.a({el:"#app",router:Ot,components:{App:d},template:"<App/>"})},SYh3:function(t,s){},TG6u:function(t,s){},UdIB:function(t,s){},"X/Ga":function(t,s){},Z4Iz:function(t,s){},bhGJ:function(t,s){},j94I:function(t,s,e){t.exports=e.p+"static/img/watch.cabcd02.jpg"},mCAx:function(t,s,e){t.exports=e.p+"static/img/slide.ca87879.jpg"},q3zs:function(t,s,e){t.exports=e.p+"static/img/logo_black.e96d508.png"},wtJJ:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.1e8e21e5bc0b92def7db.js.map